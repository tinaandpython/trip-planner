{% extends "base.html" %}

{% block content %}
    <title>Itinerary generator</title>
<body>
    <h1>Itinerary Generator</h1>
    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
    <form method="post" action="{% url 'itinerary_generator' %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Generate Itinerary</button>
    </form>
    {% if itineraries %}
        <h2>{{ destination }}</h2>
        <ul>
            {% for day_plan in itineraries %}
                <li>Day {{ day_plan.day }}:
                    <ul>
                        {% for activity in day_plan.activities %}
                            <li>{{ activity.time }} - {{ activity.description }}</li>
                        {% endfor %}
                    </ul>
                </li>
            {% endfor %}
        </ul>
        <form method="post" action="{% url 'saved_itineraries' %}">
            {% csrf_token %}
            <input type="hidden" name="save" value="save">
            <button type="submit">Save Itinerary</button>
        </form>
    {% endif %}
</body>
{% endblock %}